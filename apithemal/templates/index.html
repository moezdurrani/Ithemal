<html>
  <body>
    <h1>Ithemal (Skylake model)</h1>
    <p>
      Enter a code sequence below. Note that we cannot currently parse comments or any sort of jump commands, and will not generate predictions for sequences using exotic instructions that were not in the training set.
      <br/>
      Please check out our code at: <a href="https://github.com/psg-mit/Ithemal">https://github.com/psg-mit/Ithemal</a>
    </p>
    <form action="predict" method="post">
      <textarea autofocus="true" cols="80" rows="20" required="true" name="code" autocomplete="off" spellcheck="false" autocorrect="off" autocapitalize="off">
{% if code_text %}
{{ code_text }}
{% else %}
cmp    byte ptr [rsp+0x38], 0x01
sbb    rax, rax
and    eax, 0x00000640
add    rax, 0x00024d00
cmp    byte ptr [rsp+0xa0], 0x01
{% endif %}
</textarea>
      <br/>
      <input type="submit" value="Predict!"/>
    </form>

    {% if code_html %}
    <h2>Last Run</h2>
    {{ code_html | safe }}
    <br/><br/>
    {% if prediction %}
    <b>Prediction:</b> {{ prediction }} cycles per iteration
    {% else %}
    <b>Could not generate a prediction: </b> {{ error }}
    {% endif %}
    {% endif %}
  </body>
</html>
